"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8474],{9098(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"caracalCore/cliReference/index","title":"CLI Reference","description":"Complete reference for all Caracal Core command-line interface commands.","source":"@site/docs/caracalCore/cliReference/index.md","sourceDirName":"caracalCore/cliReference","slug":"/caracalCore/cliReference/","permalink":"/caracalCore/cliReference/","draft":false,"unlisted":false,"editUrl":"https://github.com/Garudex-Labs/Caracal/tree/main/docs/docs/caracalCore/cliReference/index.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"CLI Reference"},"sidebar":"caracalSidebar","previous":{"title":"Core vs Flow","permalink":"/caracalCore/concepts/coreVsFlow"},"next":{"title":"Agent Commands","permalink":"/caracalCore/cliReference/agent"}}');var s=r(4848),t=r(8453);const a={sidebar_position:1,title:"CLI Reference"},l="Caracal CLI Reference",c={},d=[{value:"Global Options",id:"Global-Options",level:2},{value:"Command Groups",id:"Command-Groups",level:2},{value:"Command Reference",id:"Command-Reference",level:2},{value:"Quick Examples",id:"Quick-Examples",level:2},{value:"Configuration",id:"Configuration",level:2},{value:"Configuration File",id:"Configuration-File",level:3},{value:"Environment Variables",id:"Environment-Variables",level:3},{value:"Exit Codes",id:"Exit-Codes",level:2},{value:"Output Formats",id:"Output-Formats",level:2},{value:"See Also",id:"See-Also",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"Caracal-CLI-Reference",children:"Caracal CLI Reference"})}),"\n",(0,s.jsx)(n.p,{children:"Complete reference for all Caracal Core command-line interface commands."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"caracal [GLOBAL OPTIONS] COMMAND [COMMAND OPTIONS]\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"Global-Options",children:"Global Options"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Short"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--config"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-c"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"~/.caracal/config.yaml"})}),(0,s.jsx)(n.td,{children:"Path to configuration file"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--log-level"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-l"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"INFO"})}),(0,s.jsx)(n.td,{children:"Logging level"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--verbose"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-v"})}),(0,s.jsx)(n.td,{children:"false"}),(0,s.jsx)(n.td,{children:"Enable verbose output"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--version"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"Show version and exit"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--help"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"Show help message"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"Command-Groups",children:"Command Groups"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"caracal\n  |\n  +-- agent           Manage principal identities\n  |     +-- register      Register new principal\n  |     +-- list          List all principals\n  |     +-- get           Get principal details\n  |\n  +-- policy          Manage authority policies\n  |     +-- create        Create policy\n  |     +-- list          List policies\n  |     +-- get           Get policy details\n  |     +-- history       View change history\n  |\n  +-- ledger          Query authority events\n  |     +-- query         Query events\n  |     +-- summary       Principal activity summary\n  |     +-- delegation-chain   Trace delegation\n  |     +-- list-partitions    List partitions\n  |\n  +-- delegation      Manage authority delegation\n  |     +-- generate      Generate delegation token\n  |     +-- list          List delegations\n  |     +-- validate      Validate token\n  |     +-- revoke        Revoke delegation\n  |\n  +-- db              Database management\n  |     +-- init-db       Initialize schema\n  |     +-- migrate       Run migrations\n  |     +-- status        Check connection\n  |\n  +-- merkle          Cryptographic integrity\n  |     +-- status        Tree status\n  |     +-- proof         Generate proof\n  |     +-- verify        Verify integrity\n  |\n  +-- backup          Backup and restore\n  |     +-- create        Create backup\n  |     +-- restore       Restore from backup\n  |     +-- list          List backups\n  |\n  +-- keys            Key management\n        +-- list          List keys\n        +-- rotate        Rotate keys\n        +-- export        Export public key\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"Command-Reference",children:"Command Reference"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Command Group"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Documentation"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"agent"}),(0,s.jsx)(n.td,{children:"Register and manage principal identities"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"./agent",children:"Agent Commands"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"policy"}),(0,s.jsx)(n.td,{children:"Create and manage authority policies"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"./policy",children:"Policy Commands"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"ledger"}),(0,s.jsx)(n.td,{children:"Query the authority event ledger"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"./ledger",children:"Ledger Commands"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"delegation"}),(0,s.jsx)(n.td,{children:"Manage authority delegation"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"./delegation",children:"Delegation Commands"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"db"}),(0,s.jsx)(n.td,{children:"Database schema and migrations"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"./database",children:"Database Commands"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"merkle"}),(0,s.jsx)(n.td,{children:"Cryptographic integrity verification"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"./merkle",children:"Merkle Commands"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"backup"}),(0,s.jsx)(n.td,{children:"Backup and restore operations"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"./backup",children:"Backup Commands"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"keys"}),(0,s.jsx)(n.td,{children:"Cryptographic key management"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"./keys",children:"Key Commands"})})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"Quick-Examples",children:"Quick Examples"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Register a principal and create a policy"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'caracal agent register \\\n  --name "my-agent" \\\n  --owner "user@example.com"\n\n# Output:\n# Principal registered successfully!\n# Principal ID: 550e8400-e29b-41d4-a716-446655440000\n\ncaracal policy create \\\n  --agent-id 550e8400-e29b-41d4-a716-446655440000 \\\n  --resources "api:external/*" \\\n  --actions "read" "write" \\\n  --max-validity 86400\n'})})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Query authority events"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"caracal ledger query \\\n  --agent-id 550e8400-e29b-41d4-a716-446655440000 \\\n  --limit 5 \\\n  --format table\n"})})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Verify ledger integrity"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"caracal merkle status\ncaracal merkle verify --full --parallel 8\n"})})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Database operations"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"caracal db init-db\ncaracal db status\ncaracal db migrate up\n"})})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"Configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"Configuration-File",children:"Configuration File"}),"\n",(0,s.jsxs)(n.p,{children:["Default location: ",(0,s.jsx)(n.code,{children:"~/.caracal/config.yaml"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'storage:\n  agent_registry: ~/.caracal/agents.json\n  policy_store: ~/.caracal/policies.json\n  ledger: ~/.caracal/ledger.jsonl\n  backup_dir: ~/.caracal/backups\n  backup_count: 3\n\nlogging:\n  level: INFO\n  file: ~/.caracal/caracal.log\n\ndatabase:\n  type: postgres\n  host: localhost\n  port: 5432\n  database: caracal\n  user: caracal\n  password: "${DB_PASSWORD}"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"Environment-Variables",children:"Environment Variables"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"CARACAL_CONFIG"})}),(0,s.jsx)(n.td,{children:"Override default config path"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"CARACAL_LOG_LEVEL"})}),(0,s.jsx)(n.td,{children:"Override log level"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DB_PASSWORD"})}),(0,s.jsx)(n.td,{children:"Database password"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"CARACAL_MASTER_PASSWORD"})}),(0,s.jsx)(n.td,{children:"Password for config encryption"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"Exit-Codes",children:"Exit Codes"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"Meaning"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"0"}),(0,s.jsx)(n.td,{children:"Success"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"General error"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"2"}),(0,s.jsx)(n.td,{children:"Configuration error"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"3"}),(0,s.jsx)(n.td,{children:"Database connection error"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"4"}),(0,s.jsx)(n.td,{children:"Authentication error"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"5"}),(0,s.jsx)(n.td,{children:"Authority denied"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"6"}),(0,s.jsx)(n.td,{children:"Resource not found"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"Output-Formats",children:"Output Formats"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Format"}),(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Table"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--format table"})}),(0,s.jsx)(n.td,{children:"Human-readable table (default)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"JSON"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--format json"})}),(0,s.jsx)(n.td,{children:"Machine-readable JSON"})]})]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"See-Also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/caracalCore/apiReference/sdkClient",children:"SDK Client Reference"})," -- Python SDK"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/caracalCore/apiReference/mcpIntegration",children:"MCP Integration"})," -- Model Context Protocol"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/caracalCore/concepts/coreVsFlow",children:"Core vs Flow"})," -- When to use each tool"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>l});var i=r(6540);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);