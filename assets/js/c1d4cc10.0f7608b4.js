"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[994],{3083(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"caracalCore/cliReference/merkle","title":"Merkle Commands","description":"The merkle command group manages cryptographic integrity proofs for the ledger.","source":"@site/docs/caracalCore/cliReference/merkle.md","sourceDirName":"caracalCore/cliReference","slug":"/caracalCore/cliReference/merkle","permalink":"/caracalCore/cliReference/merkle","draft":false,"unlisted":false,"editUrl":"https://github.com/Garudex-Labs/Caracal/tree/main/docs/docs/caracalCore/cliReference/merkle.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Merkle Commands"},"sidebar":"caracalSidebar","previous":{"title":"Database Commands","permalink":"/caracalCore/cliReference/database"},"next":{"title":"Delegation Commands","permalink":"/caracalCore/cliReference/delegation"}}');var i=r(4848),t=r(8453);const d={sidebar_position:6,title:"Merkle Commands"},l="Merkle Commands",c={},a=[{value:"Overview",id:"Overview",level:2},{value:"Properties",id:"Properties",level:3},{value:"Commands Overview",id:"Commands-Overview",level:2},{value:"status",id:"status",level:2},{value:"Options",id:"Options",level:3},{value:"Examples",id:"Examples",level:3},{value:"proof",id:"proof",level:2},{value:"Options",id:"Options-1",level:3},{value:"Examples",id:"Examples-1",level:3},{value:"Use Cases",id:"Use-Cases",level:3},{value:"verify",id:"verify",level:2},{value:"Options",id:"Options-2",level:3},{value:"Examples",id:"Examples-2",level:3},{value:"Integrity Violation",id:"Integrity-Violation",level:3},{value:"root",id:"root",level:2},{value:"Options",id:"Options-3",level:3},{value:"Examples",id:"Examples-3",level:3},{value:"export-proofs",id:"export-proofs",level:2},{value:"Options",id:"Options-4",level:3},{value:"Examples",id:"Examples-4",level:3},{value:"Best Practices",id:"Best-Practices",level:2},{value:"Regular Verification",id:"Regular-Verification",level:3},{value:"Audit Preparation",id:"Audit-Preparation",level:3},{value:"See Also",id:"See-Also",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"Merkle-Commands",children:"Merkle Commands"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"merkle"})," command group manages cryptographic integrity proofs for the ledger."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"caracal merkle COMMAND [OPTIONS]\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"Overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Caracal uses a Merkle tree to provide tamper-evident records of authority events."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"                      +-------------+\n                      | Merkle Root |  <-- Current state hash\n                      |   H(1,2)    |\n                      +------+------+\n                             |\n              +--------------+--------------+\n              |                             |\n        +-----+-----+                 +-----+-----+\n        |  H(A,B)   |                 |  H(C,D)   |\n        +-----+-----+                 +-----+-----+\n              |                             |\n       +------+------+               +------+------+\n       |             |               |             |\n    +--+--+       +--+--+         +--+--+       +--+--+\n    |  A  |       |  B  |         |  C  |       |  D  |\n    +-----+       +-----+         +-----+       +-----+\n       ^             ^               ^             ^\n       |             |               |             |\n    Event 1      Event 2          Event 3      Event 4\n"})}),"\n",(0,i.jsx)(n.h3,{id:"Properties",children:"Properties"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Immutability proof"}),(0,i.jsx)(n.td,{children:"Any modification to historical records is detectable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Inclusion proofs"}),(0,i.jsx)(n.td,{children:"Prove a specific event exists in the ledger"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Audit trail"}),(0,i.jsx)(n.td,{children:"Cryptographic chain of custody for compliance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Signed roots"}),(0,i.jsx)(n.td,{children:"Daily root hashes signed with Ed25519 key"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"Commands-Overview",children:"Commands Overview"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Command"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"#status",children:(0,i.jsx)(n.code,{children:"status"})})}),(0,i.jsx)(n.td,{children:"View current Merkle tree status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"#proof",children:(0,i.jsx)(n.code,{children:"proof"})})}),(0,i.jsx)(n.td,{children:"Generate inclusion proof for an event"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"#verify",children:(0,i.jsx)(n.code,{children:"verify"})})}),(0,i.jsx)(n.td,{children:"Verify ledger integrity"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"#root",children:(0,i.jsx)(n.code,{children:"root"})})}),(0,i.jsx)(n.td,{children:"Get current or historical Merkle root"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"#export-proofs",children:(0,i.jsx)(n.code,{children:"export-proofs"})})}),(0,i.jsx)(n.td,{children:"Export proofs for audit"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"status",children:"status"}),"\n",(0,i.jsx)(n.p,{children:"View current Merkle tree status."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"caracal merkle status [OPTIONS]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"Options",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Short"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--format"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-f"})}),(0,i.jsx)(n.td,{children:"table"}),(0,i.jsx)(n.td,{children:"Output format"})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"Examples",children:"Examples"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Check Status"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle status\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Merkle Tree Status\n==================\n\nCurrent State\n-------------\n  Root Hash:        a7b3c8d1e5f2... (SHA-256)\n  Tree Height:      24\n  Total Leaves:     16,777,216\n  Last Updated:     2024-01-15T14:32:00Z\n\nSigning Key\n-----------\n  Key ID:           key-001-aaaa-bbbb\n  Algorithm:        Ed25519\n  Created:          2024-01-01T00:00:00Z\n  Expires:          2025-01-01T00:00:00Z\n  Status:           [OK] Active\n\nIntegrity\n---------\n  Last Verification: 2024-01-15T00:00:00Z\n  Result:            [OK] Passed\n  Events Verified:   16,777,216\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"proof",children:"proof"}),"\n",(0,i.jsx)(n.p,{children:"Generate inclusion proof for an event."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"caracal merkle proof [OPTIONS]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"Options-1",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Short"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--event-id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-e"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,i.jsx)(n.td,{children:"Event ID to generate proof for"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--output"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-o"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"No"}),(0,i.jsx)(n.td,{children:"Output file path"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--format"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-f"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"No"}),(0,i.jsx)(n.td,{children:"Output format: json or binary"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"Examples-1",children:"Examples"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Generate Proof"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle proof --event-id evt-001-aaaa-bbbb-cccc\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Inclusion Proof for Event: evt-001-aaaa-bbbb-cccc\n=================================================\n\nEvent Details\n-------------\n  Event ID:     evt-001-aaaa-bbbb-cccc\n  Principal ID: 550e8400-e29b-41d4-a716-446655440000\n  Type:         validated\n  Resource:     api:external/openai\n  Timestamp:    2024-01-15T14:30:45Z\n  Event Hash:   b4c5d6e7f8a9...\n\nProof Path\n----------\n  Position:     Leaf #12,345,678\n  Tree Height:  24\n  Siblings:     24 hashes\n\n  Level 0:  3a4b5c6d... (right)\n  Level 1:  7e8f9a0b... (left)\n  Level 2:  1c2d3e4f... (right)\n  ...\n  Level 23: 9k0l1m2n... (left)\n\nRoot Hash\n---------\n  Computed:     a7b3c8d1e5f2...\n  Expected:     a7b3c8d1e5f2...\n  Match:        [OK] Valid\n\nSignature\n---------\n  Key ID:       key-001-aaaa-bbbb\n  Signature:    MEUCIQD3x7y8...\n  Verified:     [OK] Valid\n"})})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Export to File"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle proof \\\n  --event-id evt-001-aaaa-bbbb-cccc \\\n  --output proof.json \\\n  --format json\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"proof.json:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "version": "1.0",\n  "event_id": "evt-001-aaaa-bbbb-cccc",\n  "event_hash": "b4c5d6e7f8a9...",\n  "leaf_index": 12345678,\n  "proof_path": [\n    {"hash": "3a4b5c6d...", "position": "right"},\n    {"hash": "7e8f9a0b...", "position": "left"},\n    {"hash": "1c2d3e4f...", "position": "right"}\n  ],\n  "root_hash": "a7b3c8d1e5f2...",\n  "signature": {\n    "key_id": "key-001-aaaa-bbbb",\n    "algorithm": "Ed25519",\n    "value": "MEUCIQD3x7y8..."\n  },\n  "timestamp": "2024-01-15T14:32:00Z"\n}\n'})})]}),"\n",(0,i.jsx)(n.h3,{id:"Use-Cases",children:"Use Cases"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Use Case"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Auditor verification"}),(0,i.jsx)(n.td,{children:"Provide proof to external auditors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Dispute resolution"}),(0,i.jsx)(n.td,{children:"Prove a transaction occurred"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Regulatory compliance"}),(0,i.jsx)(n.td,{children:"Demonstrate data integrity"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Cross-system verification"}),(0,i.jsx)(n.td,{children:"Verify events across systems"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"verify",children:"verify"}),"\n",(0,i.jsx)(n.p,{children:"Verify ledger integrity."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"caracal merkle verify [OPTIONS]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"Options-2",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Short"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--full"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{children:"Verify entire ledger (slow)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--start-date"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-s"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Start date (ISO 8601)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--end-date"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-e"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"End date (ISO 8601)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--parallel"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-p"})}),(0,i.jsx)(n.td,{children:"4"}),(0,i.jsx)(n.td,{children:"Number of parallel workers"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--verbose"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-v"})}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{children:"Show detailed progress"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"Examples-2",children:"Examples"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Quick Verification"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle verify\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Verifying Merkle tree integrity...\n\nChecking recent events (last 24 hours)...\n  Events to verify: 45,678\n  Progress: [====================] 100%\n\nResults\n-------\n  Events Verified:  45,678\n  Hashes Computed:  91,356\n  Time Elapsed:     12.3s\n  \n  Status: [OK] All events verified successfully\n"})})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Full Verification (Audit)"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle verify --full --parallel 8\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Verifying FULL Merkle tree integrity...\n\n[WARNING] This may take a long time for large ledgers.\n\nProgress: [====================] 100%\n  Events:     16,777,216 / 16,777,216\n  Time:       3h 24m 15s\n\nResults\n-------\n  Events Verified:   16,777,216\n  Intermediate Nodes: 33,554,431\n  Root Hash Match:   [OK] Valid\n  Signatures Valid:  [OK] All 365 daily signatures verified\n\n  Status: [OK] Full integrity verification passed\n"})})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Verify Specific Period"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle verify \\\n  --start-date 2024-01-01T00:00:00Z \\\n  --end-date 2024-01-31T23:59:59Z \\\n  --verbose\n"})})]}),"\n",(0,i.jsx)(n.h3,{id:"Integrity-Violation",children:"Integrity Violation"}),"\n",(0,i.jsx)(n.p,{children:"If tampering is detected:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Verifying Merkle tree integrity...\n\n[ERROR] INTEGRITY VIOLATION DETECTED\n\nEvent: evt-001-aaaa-bbbb-cccc\n  Expected Hash: b4c5d6e7f8a9...\n  Computed Hash: 1a2b3c4d5e6f...\n  \n  This event has been modified after being recorded.\n\nAffected Range\n--------------\n  First Bad Event: evt-001-aaaa-bbbb-cccc (2024-01-15T14:30:45Z)\n  Events Affected: 45,678 (all events after the violation)\n\nRecommended Actions\n-------------------\n  1. Investigate the source of modification\n  2. Restore from last known good snapshot\n  3. Contact security team\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"root",children:"root"}),"\n",(0,i.jsx)(n.p,{children:"Get current or historical Merkle root."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"caracal merkle root [OPTIONS]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"Options-3",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Short"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--at"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-t"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Timestamp for historical root"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--format"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-f"})}),(0,i.jsx)(n.td,{children:"text"}),(0,i.jsx)(n.td,{children:"Output format: text or json"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"Examples-3",children:"Examples"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Current Root"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle root\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"a7b3c8d1e5f29a8b7c6d5e4f3a2b1c0d9e8f7a6b5c4d3e2f1a0b9c8d7e6f5a4b\n"})})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Historical Root"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle root --at 2024-01-15T00:00:00Z\n"})})]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"JSON Format"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle root --format json\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "root_hash": "a7b3c8d1e5f29a8b...",\n  "tree_height": 24,\n  "leaf_count": 16777216,\n  "timestamp": "2024-01-15T14:32:00Z",\n  "signature": {\n    "key_id": "key-001-aaaa-bbbb",\n    "value": "MEUCIQD3x7y8..."\n  }\n}\n'})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"export-proofs",children:"export-proofs"}),"\n",(0,i.jsx)(n.p,{children:"Export proofs for audit."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"caracal merkle export-proofs [OPTIONS]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"Options-4",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Short"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--agent-id"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-a"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"No"}),(0,i.jsx)(n.td,{children:"Filter by agent ID"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--start-date"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-s"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"No"}),(0,i.jsx)(n.td,{children:"Start date"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--end-date"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-e"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"No"}),(0,i.jsx)(n.td,{children:"End date"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--output"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-o"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"Yes"}),(0,i.jsx)(n.td,{children:"Output file path"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--format"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-f"})}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"No"}),(0,i.jsx)(n.td,{children:"Format: json or csv"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"Examples-4",children:"Examples"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:"Export for Audit"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"caracal merkle export-proofs \\\n  --agent-id 550e8400-e29b-41d4-a716-446655440000 \\\n  --start-date 2024-01-01T00:00:00Z \\\n  --end-date 2024-01-31T23:59:59Z \\\n  --output january-audit.json\n"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Output:"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Exporting inclusion proofs...\n\n  Agent:       550e8400-e29b-41d4-a716-446655440000\n  Period:      2024-01-01 to 2024-01-31\n  Events:      12,345\n  \nProgress: [====================] 100%\n\nExported to: january-audit.json\nFile size: 45.6 MB\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"Best-Practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"Regular-Verification",children:"Regular Verification"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Schedule"}),(0,i.jsx)(n.th,{children:"Command"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Daily"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"caracal merkle verify"})}),(0,i.jsx)(n.td,{children:"Verify last 24 hours"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Weekly"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'caracal merkle verify --start-date "7 days ago"'})}),(0,i.jsx)(n.td,{children:"Verify last week"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Monthly"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"caracal merkle verify --full"})}),(0,i.jsx)(n.td,{children:"Full verification"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"Audit-Preparation",children:"Audit Preparation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 1. Verify integrity\ncaracal merkle verify --full\n\n# 2. Export relevant proofs\ncaracal merkle export-proofs \\\n  --start-date 2024-01-01T00:00:00Z \\\n  --end-date 2024-12-31T23:59:59Z \\\n  --output annual-audit-2024.json\n\n# 3. Get signed root hash\ncaracal merkle root --format json > root-signature-2024.json\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"See-Also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./policy",children:"Policy Commands"})," - Authority policies for principals"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./backup",children:"Backup Commands"})," - Create backups"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"./ledger",children:"Ledger Commands"})," - Query events"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453(e,n,r){r.d(n,{R:()=>d,x:()=>l});var s=r(6540);const i={},t=s.createContext(i);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);