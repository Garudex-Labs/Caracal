============================= test session starts ==============================
platform linux -- Python 3.14.2, pytest-9.0.2, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
hypothesis profile 'caracal'
rootdir: /home/raw/Documents/workspace/caracalEcosystem/Caracal
configfile: pyproject.toml
plugins: hypothesis-6.151.4, cov-7.0.0, anyio-4.12.1
collecting ... collected 142 items

tests/unit/test_config.py::TestDefaultConfiguration::test_get_default_config_returns_valid_config PASSED [  0%]
tests/unit/test_config.py::TestDefaultConfiguration::test_default_config_has_sensible_values PASSED [  1%]
tests/unit/test_config.py::TestConfigurationLoading::test_load_config_returns_defaults_when_file_missing PASSED [  2%]
tests/unit/test_config.py::TestConfigurationLoading::test_load_config_from_valid_yaml PASSED [  2%]
tests/unit/test_config.py::TestConfigurationLoading::test_load_config_merges_with_defaults PASSED [  3%]
tests/unit/test_config.py::TestConfigurationLoading::test_load_config_expands_home_directory PASSED [  4%]
tests/unit/test_config.py::TestConfigurationValidation::test_load_config_rejects_malformed_yaml PASSED [  4%]
tests/unit/test_config.py::TestConfigurationValidation::test_load_config_rejects_missing_storage_section PASSED [  5%]
tests/unit/test_config.py::TestConfigurationValidation::test_validation_rejects_invalid_time_window PASSED [  6%]
tests/unit/test_config.py::TestConfigurationValidation::test_validation_rejects_negative_default_budget PASSED [  7%]
tests/unit/test_config.py::TestConfigurationValidation::test_validation_rejects_invalid_log_level PASSED [  7%]
tests/unit/test_config.py::TestConfigurationValidation::test_validation_rejects_invalid_backup_count PASSED [  8%]
tests/unit/test_config.py::TestConfigurationValidation::test_validation_rejects_negative_timeouts PASSED [  9%]
tests/unit/test_config.py::TestConfigurationValidation::test_load_config_handles_empty_file PASSED [  9%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_base_exception PASSED [ 10%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_identity_errors_inherit_from_base PASSED [ 11%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_policy_errors_inherit_from_base PASSED [ 11%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_ledger_errors_inherit_from_base PASSED [ 12%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_metering_errors_inherit_from_base PASSED [ 13%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_pricebook_errors_inherit_from_base PASSED [ 14%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_configuration_errors_inherit_from_base PASSED [ 14%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_storage_errors_inherit_from_base PASSED [ 15%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_sdk_errors_inherit_from_base PASSED [ 16%]
tests/unit/test_exceptions.py::TestExceptionHierarchy::test_exception_can_be_raised_and_caught PASSED [ 16%]
tests/unit/test_identity.py::TestAgentIdentity::test_agent_identity_creation PASSED [ 17%]
tests/unit/test_identity.py::TestAgentIdentity::test_agent_identity_to_dict PASSED [ 18%]
tests/unit/test_identity.py::TestAgentIdentity::test_agent_identity_from_dict PASSED [ 19%]
tests/unit/test_identity.py::TestAgentRegistry::test_registry_initialization PASSED [ 19%]
tests/unit/test_identity.py::TestAgentRegistry::test_register_agent PASSED [ 20%]
tests/unit/test_identity.py::TestAgentRegistry::test_register_agent_duplicate_name PASSED [ 21%]
tests/unit/test_identity.py::TestAgentRegistry::test_get_agent PASSED    [ 21%]
tests/unit/test_identity.py::TestAgentRegistry::test_get_agent_not_found PASSED [ 22%]
tests/unit/test_identity.py::TestAgentRegistry::test_list_agents PASSED  [ 23%]
tests/unit/test_identity.py::TestAgentRegistry::test_persistence PASSED  [ 23%]
tests/unit/test_identity.py::TestAgentRegistry::test_load_from_disk PASSED [ 24%]
tests/unit/test_identity.py::TestAgentRegistry::test_backup_creation PASSED [ 25%]
tests/unit/test_identity.py::TestAgentRegistry::test_backup_rotation PASSED [ 26%]
tests/unit/test_identity.py::TestAgentRegistry::test_empty_metadata PASSED [ 26%]
tests/unit/test_ledger_writer.py::TestLedgerEvent::test_ledger_event_creation PASSED [ 27%]
tests/unit/test_ledger_writer.py::TestLedgerEvent::test_ledger_event_to_dict PASSED [ 28%]
tests/unit/test_ledger_writer.py::TestLedgerEvent::test_ledger_event_to_json_line PASSED [ 28%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_ledger_writer_initialization PASSED [ 29%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_append_event PASSED [ 30%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_append_multiple_events PASSED [ 30%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_ledger_writer_loads_existing_ledger PASSED [ 31%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_invalid_agent_id PASSED [ 32%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_invalid_resource_type PASSED [ 33%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_negative_quantity PASSED [ 33%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_negative_cost PASSED [ 34%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_backup_creation PASSED [ 35%]
tests/unit/test_ledger_writer.py::TestLedgerWriter::test_json_lines_format PASSED [ 35%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_ledger_query_initialization PASSED [ 36%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_get_events_empty_ledger PASSED [ 37%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_get_events_all PASSED [ 38%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_get_events_filter_by_agent_id PASSED [ 38%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_get_events_filter_by_resource_type PASSED [ 39%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_get_events_filter_by_time_range PASSED [ 40%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_get_events_combined_filters PASSED [ 40%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_sum_spending PASSED [ 41%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_sum_spending_empty_result PASSED [ 42%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_aggregate_by_agent PASSED [ 42%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_aggregate_by_agent_empty_result PASSED [ 43%]
tests/unit/test_ledger_writer.py::TestLedgerQuery::test_get_events_handles_malformed_json PASSED [ 44%]
tests/unit/test_logging_config.py::TestLoggingConfiguration::test_setup_logging_default PASSED [ 45%]
tests/unit/test_logging_config.py::TestLoggingConfiguration::test_setup_logging_with_level PASSED [ 45%]
tests/unit/test_logging_config.py::TestLoggingConfiguration::test_setup_logging_with_file PASSED [ 46%]
tests/unit/test_logging_config.py::TestLoggingConfiguration::test_setup_logging_with_custom_format PASSED [ 47%]
tests/unit/test_logging_config.py::TestLoggingConfiguration::test_get_logger PASSED [ 47%]
tests/unit/test_logging_config.py::TestLoggingConfiguration::test_logging_output PASSED [ 48%]
tests/unit/test_policy.py::TestBudgetPolicy::test_budget_policy_creation PASSED [ 49%]
tests/unit/test_policy.py::TestBudgetPolicy::test_budget_policy_to_dict PASSED [ 50%]
tests/unit/test_policy.py::TestBudgetPolicy::test_budget_policy_from_dict PASSED [ 50%]
tests/unit/test_policy.py::TestBudgetPolicy::test_get_limit_decimal PASSED [ 51%]
tests/unit/test_policy.py::TestPolicyStore::test_policy_store_initialization PASSED [ 52%]
tests/unit/test_policy.py::TestPolicyStore::test_create_policy PASSED    [ 52%]
tests/unit/test_policy.py::TestPolicyStore::test_create_policy_with_agent_validation PASSED [ 53%]
tests/unit/test_policy.py::TestPolicyStore::test_create_policy_nonexistent_agent PASSED [ 54%]
tests/unit/test_policy.py::TestPolicyStore::test_create_policy_zero_limit PASSED [ 54%]
tests/unit/test_policy.py::TestPolicyStore::test_create_policy_negative_limit PASSED [ 55%]
tests/unit/test_policy.py::TestPolicyStore::test_create_policy_invalid_time_window PASSED [ 56%]
tests/unit/test_policy.py::TestPolicyStore::test_get_policies PASSED     [ 57%]
tests/unit/test_policy.py::TestPolicyStore::test_get_policies_no_policies PASSED [ 57%]
tests/unit/test_policy.py::TestPolicyStore::test_get_policies_multiple_agents PASSED [ 58%]
tests/unit/test_policy.py::TestPolicyStore::test_list_all_policies PASSED [ 59%]
tests/unit/test_policy.py::TestPolicyStore::test_persistence PASSED      [ 59%]
tests/unit/test_policy.py::TestPolicyStore::test_load_from_disk PASSED   [ 60%]
tests/unit/test_policy.py::TestPolicyStore::test_backup_creation PASSED  [ 61%]
tests/unit/test_policy.py::TestPolicyStore::test_decimal_precision PASSED [ 61%]
tests/unit/test_policy.py::TestPolicyDecision::test_policy_decision_allowed PASSED [ 62%]
tests/unit/test_policy.py::TestPolicyDecision::test_policy_decision_denied PASSED [ 63%]
tests/unit/test_policy.py::TestPolicyEvaluator::test_policy_evaluator_initialization 